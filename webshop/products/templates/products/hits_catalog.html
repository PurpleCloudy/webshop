{% extends 'products/base.html' %}
{% load static %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'products/css/hits_catalog.css' %}">
{% endblock %}

{% block content %}
    {% for hit in hits %}
        <div class="hit_object">
            <a class="hit_link" href="{% url 'products:product' hit.id %}">
                <img class="hit_img" src="{{hit.preview}}" alt="">
                <p class="hit_name">{{hit.name}}</p>
                <p class="hit_rating">{{hit.rating}}</p>
            </a>
        </div>
    {% endfor %}
    <div id="paginator">
        {% if pages_number > 5 %}
                {% if page != 1 %}
                    <a href="{% url 'products:catalog' %}?page={{page|add:'-1'}}&page_size=35"">
                        <button class="pagination_button">
                            Предыдущая
                        </button>
                    </a>
                    <p class="pagination_dots">
                        ...
                    </p>
                    <a class="pagination_link" href="{% url 'products:catalog' %}?page={{page|add:'-1'}}&page_size=35"">{{page|add:'-1'}}</a>
                {% endif %}
                <a class="pagination_link_current" href="{% url 'products:catalog' %}?page={{page}}&page_size=35"">{{page}}</a>
                {% if page != pages_number %}
                    <a class="pagination_link" href="{% url 'products:catalog' %}?page={{page|add:1}}&page_size=35"">{{page|add:1}}</a>
                    <p class="pagination_dots">
                        ...
                    </p>
                    <a href="{% url 'products:catalog' %}?page={{page|add:1}}&page_size=35"">
                        <button class="pagination_button">
                            Следующая
                        </button>
                    </a>
                {% endif %}
        {% else %}
            {% for page in pages_number %}
                <a href="{% url 'products:catalog'%}?page={{page}}&page_size=35">{{page}}</a>
            {% endfor %}
        {% endif %}
    </div>
{% endblock %}